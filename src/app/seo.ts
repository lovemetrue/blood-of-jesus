/**
 * SEO: title и description по маршрутам, глобальные keywords.
 * Используется в App.tsx и SEOHead для постраничной выдачи в поиске и соцсетях.
 */
export const DEFAULT_KEYWORDS =
  "исцеление души, мигрень, исцеление от мигрени, освобождение от мигрени, как лечить мигрень, " +
  "депрессия, исцеление от депрессии, освобождение от депрессии, " +
  "бессонница, исцеление от бессонницы, освобождение от бессонницы, как лечить бессонницу, " +
  "метеозависимость, освобождение от метеозависимости, " +
  "шизофрения, исцеление от шизофрении, освобождение от шизофрении, " +
  "ментальные расстройства, исцеление от ментальных расстройств, освобождение от ментальных расстройств, " +
  "свобода от наркозависимости, освобождение от наркозависимости, " +
  "бесплодие, исцеление от бесплодия, освобождение от бесплодия, " +
  "артрит, исцеление от артрита, освобождение от артрита, костные заболевания, освобождение от костных заболеваний, " +
  "рак, исцеление от рака, освобождение от рака, освобождение от рака спб, " +
  "духовное освобождение, изгнание демонов, завет спасения, молитвы освобождения, отверженность, церковные травмы, проклятия, Кровь и вода, " +
  "служение освобождения от демонов спб онлайн, служение освобождения от демонов спб офлайн, " +
  "служение освобождения от бесов спб онлайн, служение освобождения от бесов спб офлайн, " +
  "исцеление глубоких душевных травм спб, материалы по освобождению от бесов спб, разрушение родовых проклятий спб";

export interface PageSEO {
  title: string;
  description: string;
}

export const SEO_BY_PATH: Record<string, PageSEO> = {
  "/": {
    title: "Кровь и вода — освобождение и исцеление через Иисуса Христа",
    description:
      "Служение освобождения и исцеления души через веру во Христа. Молитвы об освобождении, материалы о мигрени, депрессии, бессоннице, ментальных расстройствах. Бесплатные материалы и заветы.",
  },
  "/documents": {
    title: "Документы и оферта | Кровь и вода",
    description:
      "Договор оферты, пользовательское соглашение и документы служения «Кровь и вода».",
  },
  "/payment/success": {
    title: "Пожертвование принято | Кровь и вода",
    description: "Благодарим за ваше пожертвование. Служение «Кровь и вода».",
  },
  "/love/god": {
    title: "Любовь к Богу | Кровь и вода",
    description:
      "Как Бог возлюбил нас и как научиться любить Бога. Материалы служения освобождения.",
  },
  "/love/self": {
    title: "Любовь к себе | Кровь и вода",
    description:
      "Истинная любовь к себе во Христе. Исцеление души от обиды и горечи.",
  },
  "/love/neighbor": {
    title: "Любовь к ближнему | Кровь и вода",
    description:
      "Заповедь любви и жизнь в любви. Материалы о любви к ближнему.",
  },
  "/faith/promises": {
    title: "Вера в обетования Бога | Кровь и вода",
    description:
      "Обетования для любящих Бога: Римлянам 8:28, вечная жизнь, защита, победа.",
  },
  "/faith/inheritance": {
    title: "В наследие | Кровь и вода",
    description:
      "Духовное наследие во Христе. Материалы служения «Кровь и вода».",
  },
  "/faith/expectations": {
    title: "В ожидания Бога | Кровь и вода",
    description: "Материалы о вере и ожидании от Бога.",
  },
  "/covenant/salvation": {
    title: "Завет спасения | Кровь и вода",
    description: "Текст завета спасения. Молитва и исповедание веры.",
  },
  "/covenant/dedication": {
    title: "Завет посвящения | Кровь и вода",
    description: "Завет посвящения жизни Господу.",
  },
  "/covenant/giving": {
    title: "Завет даяния | Кровь и вода",
    description: "Завет даяния и благословения.",
  },
  "/freedom/rejection": {
    title: "Освобождение от отверженности и страха | Кровь и вода",
    description:
      "Молитвы и материалы об освобождении от отверженности, страха и травм. Исцеление души.",
  },
  "/freedom/church-trauma": {
    title: "Освобождение от церковных травм | Кровь и вода",
    description:
      "Прощение и исцеление от ран, нанесённых в церкви.",
  },
  "/freedom/demonic": {
    title: "Освобождение от демонического угнетения | Кровь и вода",
    description:
      "Инструкция по освобождению: покаяние, молитвы, изгнание нечистых духов. Духовная свобода.",
  },
  "/freedom/sin": {
    title: "Освобождение от рабства греха | Кровь и вода",
    description:
      "Материалы о свободе от греха и зависимости во Христе.",
  },
  "/freedom/curses": {
    title: "Освобождение от проклятий | Кровь и вода",
    description:
      "Причины проклятий и молитвы освобождения. Руководство служения.",
  },
};

const DEFAULT_PAGE_SEO: PageSEO = {
  title: "Кровь и вода — освобождение и исцеление через Иисуса Христа",
  description:
    "Служение освобождения, изгнания демонов и исцеления души через веру и власть в Иисусе Христе. Бесплатные материалы, проповеди и молитвы для вашего духовного роста.",
};

/** Нормализованный pathname (без trailing slash, пустая строка → "/"). */
export function normalizePath(pathname: string): string {
  const p = pathname.replace(/\/$/, "").trim();
  return p || "/";
}

export function getSEOForPath(pathname: string): PageSEO {
  const path = normalizePath(pathname);
  return SEO_BY_PATH[path] ?? DEFAULT_PAGE_SEO;
}
